# subscription
EffectiveMobile's test task
## Запуск проекта локально
1. Клонируйте репозиторий
2. Измените имя файла конфигурации на subscription\configs\config.env. При необходимости измените параметры запуска сервиса
3. Убедитесь, что на сервере баз данных существует база данных с именем, которое вы указали в параметре конфигурации DB_DBNAME. Если база данных не существует ее необходимо создать вручную
4. Выполните запуск проекта из корня репозитория, используйте команду:
```
go run ./cmd/main.go
```
## Запуск проекта Docker
1. Клонируйте репозиторий
2. При необходимости, измените значения порта(ports) для сервиса subscription-api-server в файле docker-compose.yaml
3. Выполните команду: 
```
docker compose up -d
```
## Примечания
1. Ссылка на описание API https://app.swaggerhub.com/apis/IMEDVEDEVEA_1/subscription/1.0.0, копия сохранена в папке subscription\api
2. Файл subscription\migrations\000002_demo.up.sql добавляет демонстрационные данные. Удалите его, если в этом нет необходимости. Некоторые называют ошибкой добавление демонстрационных данных в миграции
3. Docker образ Postgres по умолчанию берет локаль En_us.utf-8, которая имеет формат даты YYYY-DD-MM, что приводит к ошибкам в работе сервиса. Для установки локали Ru_ru.utf-8 создан DockerfilePostgresRus
